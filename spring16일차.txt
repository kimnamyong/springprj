스프링 16일차

//스프링관련용어

DI(의존성주입)
Object Mapper(ORM)
AOP
영속성컨텍스트
엔티티(Entity)와 DTO
서비스와 트랜잭션과 롤백
컨트롤러와 서비스와 리파지토리
맵퍼와 리파지토리
mybatis와 JPA
jsp/mustache/thymeleaf
ViewResolver
디스패쳐
Data Source
RestController와 Controller
ResponseBody/RequestBody
RequestParamer
PathVariable
인터셉터와 세션
연관관계의 주인 mapped by
영속성컨텍스트->dirty 체킹
@Transactional
Optional
spring security
------------------------
3.2.5
///////// 프로젝트
board(게시판)-mustach
블로그-jsp
쇼핑몰-thymleaf
게시판-thymleaf
/////////
board(게시판)-mustach

backend->스프링(Mustache)


ResponseEntity
Body 데이터

api-> ArticleApiController.java


Talend

스프링(머스타치)->19강
@RequestBody -> JSON데이터받기
{
  "title":"happy day",
  "content":"welcome MY Home"
}


var title=$("#title").val()
var content= $("#content").val()

$.ajax({
   url: "/api/articles"
  method:"post",
  data: {
    title, content
  },
  success:function(data){
   if(data=="수정OK")
     alert("수정완료")
  }
}

HttpStatusCode
 100/200/300/400/500

get - 전체조회
get - 상세조회
post - 올리기, 생성
delete - 삭제
patch - 부분수정
put - 전체수정


1,0, -1

NOT_FOUND
OK
BAD_REQUEST

20장
서비스계층과 트랜잭션

service->ArticleService
----------------------
controller
  -dto
service
  -entity
repository
-----------------------
controller에서는
서비스에서 처리한 데이터
와 응답신호 만 보내준다.

service에서는
dto를 엔티티로 변환하고
레파지토리에서 저장한 결과
를 컨트롤러에 보내준다.

http://localhost:8088/api/articles/11

{
  "id":11,  
  "title":"점심시간2222",
  "content":"쉬는 시간입니다"
}

{ 
 "id":16,
 "title":"오늘은 왠지..",
 "content":"치킨을 먹고 싶어라..!"
}

http://localhost:8084/api/articles/16

트랜잭션
@Transactional

dtos


[
  { 
 "title":"시간예약",
 "content":"10시"
  },
  { 
 "title":"테이블 지정",
 "content":"11시"
  },
  { 
 "title":"메뉴선택",
 "content":"12시"
  }  
]


21강 테스트코드 작성하기


update 성공
update 실패

delete 성공
delete 실패

22강 댓글엔티티와 관계
@Query 테스트
Comment
Article

entity->Comment 클래스

repository

${파라미터}
:파라미터

@DataJpaTest
H2데이터베이스
메모리형 DB 

25강 댓글목록 뷰만들기

templates->
articles->show.mustache

24번 게시판
23강
댓글서비스와 컨트롤러

api->CommentApiController.java

service->CommentService.java

dto->CommentDto.java


new CommentDto(id,articleid,nickname, body);


client-dto->controller
->dto->service
->entity->repositiory
























